import"./roulette.b612acbb.js";var e=globalThis,t={},n={},o=e.parcelRequire5cc2;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var d=Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){n[e]=t},e.parcelRequire5cc2=o),o.register;var r=o("grwS9");document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("roomCode"),t=document.getElementById("participantName"),n=document.getElementById("btnJoin"),o=document.getElementById("btnJoinText"),d=document.getElementById("btnJoinSpinner"),i=document.getElementById("errorMsg"),s=document.getElementById("joinForm"),a=document.getElementById("successState"),c=document.getElementById("registeredName"),l=document.getElementById("roomCodeSection"),u=new URLSearchParams(window.location.search).get("room");function m(e){i.textContent=e,i.classList.remove("hidden")}function g(e){n.disabled=e,o.textContent=e?"등록 중...":"참가하기",d.classList.toggle("hidden",!e)}async function f(){i.classList.add("hidden");let n=e.value.trim().toUpperCase(),o=t.value.trim();if(!n||6!==n.length){m("올바른 방 코드를 입력해주세요. (6자리)"),e.focus();return}if(!o){m("이름을 입력해주세요."),t.focus();return}if(o.length>20){m("이름은 20자 이내로 입력해주세요."),t.focus();return}g(!0);try{let e=await r.roomService.joinRoom(n,o);if(e.success)s.classList.add("hidden"),a.classList.remove("hidden"),c.textContent=o;else m(e.error||"참가에 실패했습니다.")}catch(e){console.error("Join error:",e),m("서버 연결에 실패했습니다. 다시 시도해주세요.")}finally{g(!1)}}u&&(e.value=u.toUpperCase(),l.style.display="none"),e.addEventListener("input",e=>{let t=e.target;t.value=t.value.toUpperCase()}),n.addEventListener("click",f),t.addEventListener("keydown",e=>{"Enter"===e.key&&f()}),e.addEventListener("keydown",n=>{"Enter"===n.key&&6===e.value.length&&t.focus()}),u&&t.focus()});
//# sourceMappingURL=join.c0321325.js.map
