{"mappings":"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","sources":["<anon>","src/join.ts"],"sourcesContent":["import \"./roulette.b612acbb.js\";\n\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire5cc2\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire5cc2\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\n/**\n * Join page script - Participant registration with confirmation step\n */ \nvar $grwS9 = parcelRequire(\"grwS9\");\ndocument.addEventListener('DOMContentLoaded', ()=>{\n    const roomCodeInput = document.getElementById('roomCode');\n    const nameInput = document.getElementById('participantName');\n    const nextBtn = document.getElementById('btnNext');\n    const backBtn = document.getElementById('btnBack');\n    const joinBtn = document.getElementById('btnJoin');\n    const btnText = document.getElementById('btnJoinText');\n    const btnSpinner = document.getElementById('btnJoinSpinner');\n    const errorMsg = document.getElementById('errorMsg');\n    const confirmErrorMsg = document.getElementById('confirmErrorMsg');\n    const joinForm = document.getElementById('joinForm');\n    const successState = document.getElementById('successState');\n    const registeredName = document.getElementById('registeredName');\n    const roomCodeSection = document.getElementById('roomCodeSection');\n    const inputStep = document.getElementById('inputStep');\n    const confirmStep = document.getElementById('confirmStep');\n    const confirmName = document.getElementById('confirmName');\n    // Get room code from URL if provided\n    const urlParams = new URLSearchParams(window.location.search);\n    const roomFromUrl = urlParams.get('room');\n    if (roomFromUrl) {\n        roomCodeInput.value = roomFromUrl.toUpperCase();\n        roomCodeSection.style.display = 'none';\n    }\n    // Auto uppercase room code\n    roomCodeInput.addEventListener('input', (e)=>{\n        const target = e.target;\n        target.value = target.value.toUpperCase();\n    });\n    // Show error on input step\n    function showError(message) {\n        errorMsg.textContent = message;\n        errorMsg.classList.remove('hidden');\n    }\n    // Hide error on input step\n    function hideError() {\n        errorMsg.classList.add('hidden');\n    }\n    // Show error on confirm step\n    function showConfirmError(message) {\n        confirmErrorMsg.textContent = message;\n        confirmErrorMsg.classList.remove('hidden');\n    }\n    // Hide error on confirm step\n    function hideConfirmError() {\n        confirmErrorMsg.classList.add('hidden');\n    }\n    // Set loading state\n    function setLoading(loading) {\n        joinBtn.disabled = loading;\n        btnText.textContent = loading ? \"\\uB4F1\\uB85D \\uC911...\" : \"\\uCC38\\uAC00\\uD558\\uAE30\";\n        btnSpinner.classList.toggle('hidden', !loading);\n    }\n    // Show success\n    function showSuccess(name) {\n        joinForm.classList.add('hidden');\n        successState.classList.remove('hidden');\n        registeredName.textContent = name;\n    }\n    // Go to confirm step\n    function goToConfirmStep() {\n        hideError();\n        const roomCode = roomCodeInput.value.trim().toUpperCase();\n        const name = nameInput.value.trim();\n        // Validation\n        if (!roomCode || roomCode.length !== 6) {\n            showError(\"\\uC62C\\uBC14\\uB978 \\uBC29 \\uCF54\\uB4DC\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694. (6\\uC790\\uB9AC)\");\n            roomCodeInput.focus();\n            return;\n        }\n        if (!name) {\n            showError(\"\\uC774\\uB984\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\");\n            nameInput.focus();\n            return;\n        }\n        if (name.length > 20) {\n            showError(\"\\uC774\\uB984\\uC740 20\\uC790 \\uC774\\uB0B4\\uB85C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\");\n            nameInput.focus();\n            return;\n        }\n        // Show confirm step\n        confirmName.textContent = name;\n        inputStep.classList.add('hidden');\n        confirmStep.classList.remove('hidden');\n    }\n    // Go back to input step\n    function goToInputStep() {\n        hideConfirmError();\n        confirmStep.classList.add('hidden');\n        inputStep.classList.remove('hidden');\n        nameInput.focus();\n    }\n    // Handle join\n    async function handleJoin() {\n        hideConfirmError();\n        const roomCode = roomCodeInput.value.trim().toUpperCase();\n        const name = nameInput.value.trim();\n        setLoading(true);\n        try {\n            const result = await (0, $grwS9.roomService).joinRoom(roomCode, name);\n            if (result.success) showSuccess(name);\n            else showConfirmError(result.error || \"\\uCC38\\uAC00\\uC5D0 \\uC2E4\\uD328\\uD588\\uC2B5\\uB2C8\\uB2E4.\");\n        } catch (error) {\n            console.error('Join error:', error);\n            showConfirmError(\"\\uC11C\\uBC84 \\uC5F0\\uACB0\\uC5D0 \\uC2E4\\uD328\\uD588\\uC2B5\\uB2C8\\uB2E4. \\uB2E4\\uC2DC \\uC2DC\\uB3C4\\uD574\\uC8FC\\uC138\\uC694.\");\n        } finally{\n            setLoading(false);\n        }\n    }\n    // Event listeners\n    nextBtn.addEventListener('click', goToConfirmStep);\n    backBtn.addEventListener('click', goToInputStep);\n    joinBtn.addEventListener('click', handleJoin);\n    // Enter key support\n    nameInput.addEventListener('keydown', (e)=>{\n        if (e.key === 'Enter') goToConfirmStep();\n    });\n    roomCodeInput.addEventListener('keydown', (e)=>{\n        if (e.key === 'Enter') {\n            if (roomCodeInput.value.length === 6) nameInput.focus();\n        }\n    });\n    // Focus name input if room code is pre-filled\n    if (roomFromUrl) nameInput.focus();\n});\n\n\n//# sourceMappingURL=join.c42c91eb.js.map\n","/**\n * Join page script - Participant registration with confirmation step\n */\nimport { roomService } from './services/firebase';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const roomCodeInput = document.getElementById('roomCode') as HTMLInputElement;\n  const nameInput = document.getElementById('participantName') as HTMLInputElement;\n  const nextBtn = document.getElementById('btnNext') as HTMLButtonElement;\n  const backBtn = document.getElementById('btnBack') as HTMLButtonElement;\n  const joinBtn = document.getElementById('btnJoin') as HTMLButtonElement;\n  const btnText = document.getElementById('btnJoinText') as HTMLSpanElement;\n  const btnSpinner = document.getElementById('btnJoinSpinner') as HTMLSpanElement;\n  const errorMsg = document.getElementById('errorMsg') as HTMLDivElement;\n  const confirmErrorMsg = document.getElementById('confirmErrorMsg') as HTMLDivElement;\n  const joinForm = document.getElementById('joinForm') as HTMLDivElement;\n  const successState = document.getElementById('successState') as HTMLDivElement;\n  const registeredName = document.getElementById('registeredName') as HTMLParagraphElement;\n  const roomCodeSection = document.getElementById('roomCodeSection') as HTMLDivElement;\n  const inputStep = document.getElementById('inputStep') as HTMLDivElement;\n  const confirmStep = document.getElementById('confirmStep') as HTMLDivElement;\n  const confirmName = document.getElementById('confirmName') as HTMLParagraphElement;\n\n  // Get room code from URL if provided\n  const urlParams = new URLSearchParams(window.location.search);\n  const roomFromUrl = urlParams.get('room');\n\n  if (roomFromUrl) {\n    roomCodeInput.value = roomFromUrl.toUpperCase();\n    roomCodeSection.style.display = 'none';\n  }\n\n  // Auto uppercase room code\n  roomCodeInput.addEventListener('input', (e) => {\n    const target = e.target as HTMLInputElement;\n    target.value = target.value.toUpperCase();\n  });\n\n  // Show error on input step\n  function showError(message: string) {\n    errorMsg.textContent = message;\n    errorMsg.classList.remove('hidden');\n  }\n\n  // Hide error on input step\n  function hideError() {\n    errorMsg.classList.add('hidden');\n  }\n\n  // Show error on confirm step\n  function showConfirmError(message: string) {\n    confirmErrorMsg.textContent = message;\n    confirmErrorMsg.classList.remove('hidden');\n  }\n\n  // Hide error on confirm step\n  function hideConfirmError() {\n    confirmErrorMsg.classList.add('hidden');\n  }\n\n  // Set loading state\n  function setLoading(loading: boolean) {\n    joinBtn.disabled = loading;\n    btnText.textContent = loading ? '등록 중...' : '참가하기';\n    btnSpinner.classList.toggle('hidden', !loading);\n  }\n\n  // Show success\n  function showSuccess(name: string) {\n    joinForm.classList.add('hidden');\n    successState.classList.remove('hidden');\n    registeredName.textContent = name;\n  }\n\n  // Go to confirm step\n  function goToConfirmStep() {\n    hideError();\n\n    const roomCode = roomCodeInput.value.trim().toUpperCase();\n    const name = nameInput.value.trim();\n\n    // Validation\n    if (!roomCode || roomCode.length !== 6) {\n      showError('올바른 방 코드를 입력해주세요. (6자리)');\n      roomCodeInput.focus();\n      return;\n    }\n\n    if (!name) {\n      showError('이름을 입력해주세요.');\n      nameInput.focus();\n      return;\n    }\n\n    if (name.length > 20) {\n      showError('이름은 20자 이내로 입력해주세요.');\n      nameInput.focus();\n      return;\n    }\n\n    // Show confirm step\n    confirmName.textContent = name;\n    inputStep.classList.add('hidden');\n    confirmStep.classList.remove('hidden');\n  }\n\n  // Go back to input step\n  function goToInputStep() {\n    hideConfirmError();\n    confirmStep.classList.add('hidden');\n    inputStep.classList.remove('hidden');\n    nameInput.focus();\n  }\n\n  // Handle join\n  async function handleJoin() {\n    hideConfirmError();\n\n    const roomCode = roomCodeInput.value.trim().toUpperCase();\n    const name = nameInput.value.trim();\n\n    setLoading(true);\n\n    try {\n      const result = await roomService.joinRoom(roomCode, name);\n\n      if (result.success) {\n        showSuccess(name);\n      } else {\n        showConfirmError(result.error || '참가에 실패했습니다.');\n      }\n    } catch (error) {\n      console.error('Join error:', error);\n      showConfirmError('서버 연결에 실패했습니다. 다시 시도해주세요.');\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Event listeners\n  nextBtn.addEventListener('click', goToConfirmStep);\n  backBtn.addEventListener('click', goToInputStep);\n  joinBtn.addEventListener('click', handleJoin);\n\n  // Enter key support\n  nameInput.addEventListener('keydown', (e) => {\n    if (e.key === 'Enter') {\n      goToConfirmStep();\n    }\n  });\n\n  roomCodeInput.addEventListener('keydown', (e) => {\n    if (e.key === 'Enter') {\n      if (roomCodeInput.value.length === 6) {\n        nameInput.focus();\n      }\n    }\n  });\n\n  // Focus name input if room code is pre-filled\n  if (roomFromUrl) {\n    nameInput.focus();\n  }\n});\n"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$grwS9","document","addEventListener","roomCodeInput","getElementById","nameInput","nextBtn","backBtn","joinBtn","btnText","btnSpinner","errorMsg","confirmErrorMsg","joinForm","successState","registeredName","roomCodeSection","inputStep","confirmStep","confirmName","roomFromUrl","urlParams","URLSearchParams","window","location","search","get","showError","message","textContent","classList","remove","showConfirmError","hideConfirmError","add","setLoading","loading","disabled","toggle","goToConfirmStep","roomCode","value","trim","toUpperCase","name","length","focus","handleJoin","result","roomService","joinRoom","success","error","console","style","display","e","target","key"],"version":3,"file":"join.c42c91eb.js.map"}