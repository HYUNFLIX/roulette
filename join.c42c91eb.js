import"./roulette.b612acbb.js";var e=globalThis,t={},n={},o=e.parcelRequire5cc2;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var d={id:e,exports:{}};return t[e]=d,o.call(d.exports,d,d.exports),d.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequire5cc2=o),o.register;var d=o("grwS9");document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("roomCode"),t=document.getElementById("participantName"),n=document.getElementById("btnNext"),o=document.getElementById("btnBack"),r=document.getElementById("btnJoin"),i=document.getElementById("btnJoinText"),c=document.getElementById("btnJoinSpinner"),s=document.getElementById("errorMsg"),a=document.getElementById("confirmErrorMsg"),l=document.getElementById("joinForm"),m=document.getElementById("successState"),u=document.getElementById("registeredName"),g=document.getElementById("roomCodeSection"),E=document.getElementById("inputStep"),f=document.getElementById("confirmStep"),v=document.getElementById("confirmName"),y=new URLSearchParams(window.location.search).get("room");function p(e){s.textContent=e,s.classList.remove("hidden")}function L(e){a.textContent=e,a.classList.remove("hidden")}function h(){a.classList.add("hidden")}function B(e){r.disabled=e,i.textContent=e?"등록 중...":"참가하기",c.classList.toggle("hidden",!e)}function I(){s.classList.add("hidden");let n=e.value.trim().toUpperCase(),o=t.value.trim();if(!n||6!==n.length){p("올바른 방 코드를 입력해주세요. (6자리)"),e.focus();return}if(!o){p("이름을 입력해주세요."),t.focus();return}if(o.length>20){p("이름은 20자 이내로 입력해주세요."),t.focus();return}v.textContent=o,E.classList.add("hidden"),f.classList.remove("hidden")}async function C(){h();let n=e.value.trim().toUpperCase(),o=t.value.trim();B(!0);try{let e=await d.roomService.joinRoom(n,o);if(e.success)l.classList.add("hidden"),m.classList.remove("hidden"),u.textContent=o;else L(e.error||"참가에 실패했습니다.")}catch(e){console.error("Join error:",e),L("서버 연결에 실패했습니다. 다시 시도해주세요.")}finally{B(!1)}}y&&(e.value=y.toUpperCase(),g.style.display="none"),e.addEventListener("input",e=>{let t=e.target;t.value=t.value.toUpperCase()}),n.addEventListener("click",I),o.addEventListener("click",function(){h(),f.classList.add("hidden"),E.classList.remove("hidden"),t.focus()}),r.addEventListener("click",C),t.addEventListener("keydown",e=>{"Enter"===e.key&&I()}),e.addEventListener("keydown",n=>{"Enter"===n.key&&6===e.value.length&&t.focus()}),y&&t.focus()});
//# sourceMappingURL=join.c42c91eb.js.map
